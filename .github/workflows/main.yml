name: jekyll-cd

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
      - uses: EdricChan03/action-build-deploy-ghpages@v2.5.0
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }} # The GitHub installation token. Note: You can also use ${{ github.token }}
          # gh_pages_token: ${{ secrets.GH_PAGES_TOKEN }} # Note: You have to create this yourself - see the "Secrets used" section above for more info (This input does not have a default value - you have to supply this yourself) (As of 15 Feb 2020, this is no longer needed - see https://github.community/t5/GitHub-Actions/Github-action-not-triggering-gh-pages-upon-push/m-p/46519/highlight/true#M6551)
          gh_pages_branch: 'deploy' # The GitHub Pages branch to deploy the site to
          gh_pages_dist_folder: 'docs' # The folder to build the site to
          gh_pages_commit_message: 'Deploy with jekyll-cd' # The commit message to use when deploying the site
          jekyll_build_opts: 'JEKYLL_ENV=production' # Options to pass to the Jekyll build command.
          committer_username: '$GITHUB_ACTOR' # The username to use for the committer of the commit
          committer_email: '${GITHUB_ACTOR}@users.noreply.github.com' # The email to use for the committer of the commit
          git_force: 'true' # Whether to use the --force flag when pushing the commit
          # skip_deploy: 'false' # Whether to skip deployment after a successful build.
          # show_bundle_log: 'false' # Whether to show detailed logs from bundle install command. Useful for debugging broken builds.
          # bundler_version: '' # A specific version of Bundler to be used.

      # - name: üõé Check out master
      #   uses: actions/checkout@master
      #   with:
      #     fetch-depth: 1
      # - name: üé© Install Jekyll
      #   run: |
      #     sudo gem install bundler jekyll
      #     sudo bundle install
      # - name: üßπ Clean site
      #   run: |
      #     if [ -d "docs" ]; then
      #       rm -rf docs/*
      #     fi
      # - name: üßëüèΩConfigure git
      #   run: |
      #     git config user.name "${GITHUB_ACTOR}"
      #     git config user.email "${GITHUB_ACTOR}@users.noreply.github.com"
      #
      # - name: üî® Build site
      #   run: JEKYLL_ENV=production bundle exec jekyll build -d docs
      #
      # - name: üß™ Deploy build
      #   uses: peaceiris/actions-gh-pages@v3
      #   with:
      #     github_token: ${{ secrets.GITHUB_TOKEN }}
      #     publish_branch: deploy
      #     destination_dir: docs
      #     commit_message: Deploy with jekyll-cd
